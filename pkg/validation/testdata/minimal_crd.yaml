# SPDX-FileCopyrightText: 2025 SAP SE or an SAP affiliate company and Greenhouse contributors
# SPDX-License-Identifier: Apache-2.0

apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    name: testresource.tr.ccrn.example.com
    annotations:
        ccrn/v1.urn-template: "urn:ccrn:<ccrn>/<name>"
spec:
    group: tr.ccrn.example.com
    names:
        kind: TestResource
        listKind: TestResourceList
        plural: testresources
        singular: testresource
    scope: Namespaced
    versions:
        - name: v1
          served: true
          storage: true
          schema:
              openAPIV3Schema:
                  type: object
                  required: ["ccrn", "name"]
                  properties:
                      ccrn:
                          type: string
                          enum: ["testresource.tr.ccrn.example.com/v1"]
                          description: "API version of the resource"
                      name:
                        type: string
                        description: "The name of the resource"
                        pattern: "^([a-z0-9]([-a-z0-9]*[a-z0-9])?|\\*)$"
                        maxLength: 253
